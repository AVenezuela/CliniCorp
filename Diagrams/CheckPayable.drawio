<mxfile host="app.diagrams.net" version="26.2.14">
  <diagram id="GeneratedFlow" name="Fluxo de Pagamento">
    <mxGraphModel dx="1426" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Início -->
        <mxCell id="start" value="Início" style="ellipse;whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="160" y="40" width="80" height="40" as="geometry" />
        </mxCell>
        
        <!-- Obtém o Pagamento -->
        <mxCell id="getPayment" value="Obtém o Pagamento" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="160" y="120" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="edge1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" parent="1" source="start" target="getPayment" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Pagamento não encontrado -->
        <mxCell id="paymentNotFound" value="Pagamento não encontrado e tentativas &lt; 3?" style="rhombus;whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="160" y="220" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="edge2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" parent="1" source="getPayment" target="paymentNotFound" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Nova tentativa -->
        <mxCell id="scheduleRetry" value="Agenda nova tentativa em 30 minutos e retorna" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="40" y="340" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="edge3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" parent="1" source="paymentNotFound" target="scheduleRetry" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Verificação da SLI -->
        <mxCell id="checkSLI" value="Verificação da SLI" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="360" y="340" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="edge4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" parent="1" source="paymentNotFound" target="checkSLI" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- SLI não encontrado -->
        <mxCell id="sliNotFound" value="SLI não encontrado?" style="rhombus;whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="360" y="440" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="edge5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" parent="1" source="checkSLI" target="sliNotFound" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Cria novo SLI -->
        <mxCell id="createSLI" value="Cria novo SLI com 30 dias de vencimento" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="160" y="560" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="edge6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" parent="1" source="sliNotFound" target="createSLI" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- SLI encontrado -->
        <mxCell id="sliFound" value="SLI encontrado?" style="rhombus;whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="560" y="440" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="edge7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" parent="1" source="checkSLI" target="sliFound" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Atualiza SLI -->
        <mxCell id="updateSLI" value="Atualiza data de confirmação do SLI" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="560" y="560" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="edge8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" parent="1" source="sliFound" target="updateSLI" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Continua o fluxo -->
        <mxCell id="continue" value="Continua o fluxo..." style="rounded=1;whiteSpace=wrap;html=1;shadow=0;" parent="1" vertex="1">
          <mxGeometry x="360" y="680" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="edge9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" parent="1" source="createSLI" target="continue" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;" parent="1" source="updateSLI" target="continue" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>